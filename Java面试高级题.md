#### 高级题

##### rpc相关：如何设计一个rpc框架，从io模型 传输协议 序列化方式综合考虑

##### Linux命令 统计，排序，前几问题等

##### StringBuff 和StringBuilder的实现，底层实现是通过byte数据，外加数组的拷贝来实现的

##### 内存缓存和数据库的一致性同步实现

##### 微服务的优缺点

##### 线程池的参数问题

##### ip问题 如何判断ip是否在多个ip段中

##### 判断数组两个中任意两个数之和是否为给定的值

##### synchronized实现原理

##### 消息队列广播模式和发布/订阅模式的区别

##### 生产者消费者代码实现

##### 死锁代码实现

##### 线程池：参数，每个参数的作用，几种不同线程池的比较，阻塞队列的使用，拒绝策略

##### Future和ListenableFuture 异步回调相关

##### 在Java中wait和seelp方法的不同

##### 什么时候需要加volatile关键字？它能保证线程安全吗？

##### concurrentHashMap怎么实现？concurrenthashmap在1.8和1.7里面有什么区别

##### CountDownLatch、LinkedHashMap、AQS实现原理

##### OOM说一下？怎么排查？哪些会导致OOM?

##### 说说一致性 Hash 原理

##### 分布式一致性协议，二段、三段、TCC，优缺点

##### Java的内存模型，Java8做了什么修改

##### 如何进行JVM调优？有哪些方法？

##### 怎么理解强一致性、单调一致性和最终一致性？

##### 谈一谈一致性哈希算法。

##### **序列化方案都有哪些，说说它们的优缺点？**

序列化有对象序列化，JSON序列化，XML序列化等，像java自带序列化、kryo、protostuff、GSON、jackson、fastjson等

##### Java对象引用四个级别（强、软、弱、虚）

- 强引用（StrongReference）， 就是我们平常最基本的对象引用，如果是强引用，那回收器不会回收带有强引用的对象。即使内存不足抛出OutOfMemoryError异常也不会回收强引用对象
- 软引用（SoftReference），一个对象只有软引用，如果内存空间足够情况下垃圾回收器就不会回收它，如果内存空间不够了就会对这些只有软引用的对象进行回收。只要垃圾回收器没有回收，该软引用对象就可以继续被程序使用。
- 弱引用（WeakReference），弱引用的对象具有更短暂的生命周期，在垃圾回收器线程扫描它所管辖的内存区域的过程中，一旦发现了只具有弱引用的对象，不管当前内存空间足够与否，都会回收它的内存。不过，由于垃圾回收器是一个优先级很低的线程，因此不一定会很快发现那些只具有弱引用的对象。
- 虚引用（PhantomReference），虚引用顾名思义就是形同虚设，虚引用并不决定对象的生命周期，如果一个对象仅持有虚引用，那么它就和没有任何引用一样，在任何时候都可能被垃圾回收器回收。

| 引用类型 | 回收时间     | 用途         |
| -------- | ------------ | ------------ |
| 强引用   | 永不回收     | 普通对象引用 |
| 软引用   | 内在不足回收 | 缓存对象     |
| 弱引用   | 垃圾回收时   | 缓存对象     |
| 虚引用   | 不确定       | 不确定       |

##### 解析XML的几种方式的原理与特点：DOM、SAX